<html>
<head>
<title>KOMMANDO LIEBE - LOVE DEFENDER</title>

<style type="text/css">
body
{ 	
    cursor: crosshair;
    padding: 0px:
    spacing: 0px;
    margin: 0px;
	width: 100%;
	height: 100%;
	overflow:hidden;
	background-color: black;
    color:black;
    font-family: 'Courier';
    font-size: 0.15cm;
    line-height: 75%
    font-weight: normal;
    text-overflow:hidden;
    
}

.rd
{
    color: red;
    background-color: red;
}
.gr
{
    color: white;
    background-color: silver;
}

.sht
{
   position: absolute;
   visibility: hidden;
}

.mnst
{
   position: absolute;
   visibility: visible;
}

pre
{ font-family: Courier New, Courier, monospace; line-height: 95%; letter-spacing: 0pt; color: #222222; overflow: visible;} 
</style>


</head>

<script language="javascript" type="text/javascript">
if(window.innerWidth >0) document.write('<body>');
else document.write('<body onMouseDown="startshotie()">');
</script>


<table id="bgr" height="100%" width="100%" style="background: black" cellpadding="0" cellspacing="0">
<td>
</table>


<div id="herz" style="position: absolute;">
<pre>
       <span class="rd">********</span>          <span class="rd">********</span>
     <span class="rd">*************</span>     <span class="rd">*************</span>
   <span class="rd">*****************</span> <span class="rd">*****************</span>
 <span class="rd">***************************************</span>
<span class="rd">*****************************************</span>
<span class="rd">*****************************************</span>
<span class="rd">*****************************************</span>    
 <span class="rd">***************************************</span>
  <span class="rd">*************************************</span>
    <span class="rd">*********************************</span>
      <span class="rd">*****************************</span>
         <span class="rd">***********************</span>
             <span class="rd">***************</span>
                <span class="rd">*********</span>
                   <span class="rd">***</span>
                    <span class="rd">*</span>
</pre>
</div>

<div id="monster0" class="mnst">
<pre>
<span class="gr">****</span>    <span class="gr">**</span>    <span class="gr">**</span>    <span class="gr">****</span>
  <span class="gr">********************</span>
<span class="gr">****</span> <span class="rd">**</span>   <span class="gr">****</span> <span class="rd">**</span>   <span class="gr">****</span>
  <span class="gr">********************</span>
    <span class="gr">**</span>    <span class="gr">****</span>    <span class="gr">**</span>
    
      <span class="gr">****</span>    <span class="gr">****</span>
      <span class="gr">************</span>
</pre>
</div>

<div id="monster1" class="mnst">
<pre>
<span class="gr">****</span>    <span class="gr">**</span>    <span class="gr">**</span>    <span class="gr">****</span>
  <span class="gr">********************</span>
<span class="gr">****</span>  <span class="rd">**</span>  <span class="gr">****</span>  <span class="rd">**</span>  <span class="gr">****</span>
  <span class="gr">********************</span>
    <span class="gr">**</span>    <span class="gr">****</span>    <span class="gr">**</span>
      <span class="gr">****</span>    <span class="gr">****</span>
      <span class="gr">************</span>
</pre>
</div>

<div id="monster2" class="mnst">
<pre>
<span class="gr">****</span>    <span class="gr">**</span>    <span class="gr">**</span>    <span class="gr">****</span>
  <span class="gr">********************</span>
<span class="gr">****</span>   <span class="rd">**</span> <span class="gr">****</span>   <span class="rd">**</span> <span class="gr">****</span>
  <span class="gr">********************</span>
    <span class="gr">****************</span>
      <span class="gr">************</span>
</pre>
</div>

<div id="monster3" class="mnst">
<pre>
<span class="gr">****</span>    <span class="gr">**</span>    <span class="gr">**</span>    <span class="gr">****</span>
  <span class="gr">********************</span>
<span class="gr">****</span>  <span class="rd">**</span>  <span class="gr">****</span>  <span class="rd">**</span>  <span class="gr">****</span>
  <span class="gr">********************</span>
    <span class="gr">**</span>    <span class="gr">****</span>    <span class="gr">**</span>
      <span class="gr">****</span>    <span class="gr">****</span>
      <span class="gr">************</span>
</pre>
</div>

<div id="exp0" class="sht">
<pre>
 <span class="rd">***</span>    <span class="rd">**</span>    <span class="rd">**</span>    <span class="rd">***</span>
   <span class="rd">******************</span>
 <span class="rd">***</span>   <span class="rd">**</span> <span class="rd">****</span> <span class="rd">**</span>   <span class="rd">***</span>
   <span class="rd">******************</span>
     <span class="rd">**************</span>
        <span class="rd">********</span>
</pre>
</div>
<div id="exp1" class="sht">
<pre>

    <span class="rd">****************</span>
  <span class="rd">**</span>   <span class="rd">**</span> <span class="rd">****</span> <span class="rd">**</span>   <span class="rd">**</span>
    <span class="rd">****************</span>
      <span class="rd">************</span>
         <span class="rd">******</span>
</pre>
</div>

<div id="exp2" class="sht">
<pre>

     <span class="rd">**************</span>
   <span class="rd">*</span>   <span class="rd">**</span> <span class="rd">****</span> <span class="rd">**</span>   <span class="rd">*</span>
     <span class="rd">**************</span>
         <span class="rd">******</span>
</pre>
</div>

<div id="exp3" class="sht">
<pre>

         <span class="rd">******</span>
      <span class="rd">**</span>  <span class="rd">****</span>  <span class="rd">**</span>
        <span class="rd">********</span>
           <span class="rd">**</span>
</pre>
</div>


<div id="shot0" class="sht"><span class="rd">**</span></div>
<div id="shot1" class="sht"><span class="rd">**</span></div>
<div id="shot2" class="sht"><span class="rd">**</span></div>
<div id="shot3" class="sht"><span class="rd">**</span></div>
<div id="shot4" class="sht"><span class="rd">**</span></div>
<div id="shot5" class="sht"><span class="rd">**</span></div>

By Martin Hüdepohl, 2004


<script language="javascript" type="text/javascript">

herzwidth=82;
herzheight=56;
monsterwidth=48;
monsterheight=27;
herzposx=470;
herzposy=300;
var geschossen;
var getroffen;

//netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
if(window.innerWidth >0)
{
   window.captureEvents(Event.MOUSEDOWN);
   window.onmousedown=startshotns;
   herzposx=window.innerWidth/2;
   herzposy=window.innerHeight/2;
}

var monsterdirx = new Array(4);
var monsterdiry = new Array(4);
var monsterposx = new Array(4);
var monsterposy = new Array(4);
var shotposx = new Array(6);
var shotposy = new Array(6);
var shotdirectionx = new Array(6);
var shotdirectiony = new Array(6);
var shotactive = new Array(6);
var counter=0;
var level=1;
var m0=0, m1=1, m2=2, m3=3;
var adder=Math.sqrt(screen.height*screen.height+screen.width*screen.width)/1350;
for(i=0;i<6;i++)shotactive[i]=0;

document.getElementById("herz").style.left=herzposx-herzwidth;
document.getElementById("herz").style.top=herzposy-herzheight;

var points;



startnewgame();

function move(lr, x, y)
{
   document.getElementById(lr).style.left=x;
   document.getElementById(lr).style.top=y;
}

function animatemonsters()
{
   temp=m3;m3=m2;m2=m1;m1=m0;m0=temp;
}

function startshot(i)
{
    mul=Math.sqrt(shotdirectionx[i]*shotdirectionx[i]+shotdirectiony[i]*shotdirectiony[i]);
    shotdirectionx[i]*=shotspeed/mul;
    shotdirectiony[i]*=shotspeed/mul;
    shotposx[i]=herzposx+shotdirectionx[i]*5;
    shotposy[i]=herzposy+shotdirectiony[i]*5;
    move("shot"+i, shotposx[i], shotposy[i]);
    document.getElementById("shot"+i).style.visibility="visible";
    geschossen++;
}

function startshotns(event)
{
   for(i=0;i<6;i++)
   if(shotactive[i]==0)
   {
 
      shotactive[i]=1;
      shotdirectionx[i]=event.pageX-herzposx;
      shotdirectiony[i]=event.pageY-herzposy;
      startshot(i);
      break;
   }
}

function startshotie()
{
   for(i=0;i<6;i++)
   if(shotactive[i]==0)
   {
      shotactive[i]=1;
      shotdirectionx[i]=window.event.x-herzposx;
      shotdirectiony[i]=window.event.y-herzposy;
      startshot(i);
      geschossen++;
      break;
   }
}

function proceedshots()
{
   for(i=0;i<6;i++)
   if(shotactive[i]==1)
   {
      shotposx[i]+=shotdirectionx[i];
      shotposy[i]+=shotdirectiony[i];
      move("shot"+i, shotposx[i], shotposy[i]);
      if((shotposx[i]<0)||(shotposx[i]>screen.width) || (shotposy[i]<0)||(shotposy[i]>screen.height))
      {
         shotactive[i]=0;
         document.getElementById("shot"+i).style.visibility="hidden";
      }
   }
}

function collisiondetection()
{
   for(j=0;j<4;j++)
   {
   if(((monsterposx[j]-herzposx)>-herzwidth) && ((monsterposx[j]-herzposx)<herzwidth) && 
   ((monsterposy[j]-herzposy)>-herzheight) && ((monsterposy[j]-herzposy)<herzheight))
   gameover();
   for(i=0;i<6;i++)
   if(shotactive[i]==1)
   {
      if(((monsterposx[j]-shotposx[i])>-monsterwidth) && ((monsterposx[j]-shotposx[i])<monsterwidth) && 
         ((monsterposy[j]-shotposy[i])>-monsterheight) && ((monsterposy[j]-shotposy[i])<monsterheight))
      {
         shotactive[i]=0;
         document.getElementById("shot"+i).style.visibility="hidden";
         explosion(monsterposx[j], monsterposy[j]);
         startmonster(j);
         points+=25;
         getroffen++;
         window.status="+++SHOOTING HEART+++  level: "+level+" points: "+points;
      }
   }
   }
}

function explosion(x, y)
{
   t=50;
   move("exp0", x-monsterwidth, y-monsterheight);
   move("exp1", x-monsterwidth, y-monsterheight);
   move("exp2", x-monsterwidth, y-monsterheight);
   move("exp3", x-monsterwidth, y-monsterheight);

   document.getElementById("exp0").style.visibility="visible";
   setTimeout('document.getElementById("exp0").style.visibility="hidden"',  t);
   setTimeout('document.getElementById("exp1").style.visibility="visible"', t);
   setTimeout('document.getElementById("exp1").style.visibility="hidden"',  t*2);
   setTimeout('document.getElementById("exp2").style.visibility="visible"', t*2);
   setTimeout('document.getElementById("exp2").style.visibility="hidden"',  t*3);
   setTimeout('document.getElementById("exp3").style.visibility="visible"', t*3);
   setTimeout('document.getElementById("exp3").style.visibility="hidden"',  t*4);

}

function proceedmonsters()
{
   for(j=0;j<4;j++)
   {
      monsterposx[j]+=monsterdirx[j];
      monsterposy[j]+=monsterdiry[j];
      if((monsterposx[j]>screen.width)|| (monsterposx[j]<0)||(monsterposy[j]>screen.height)||(monsterposy[j]<0))
      startmonster(j);
   }
   move("monster0", monsterposx[m0]-monsterwidth, monsterposy[m0]-monsterheight);
   move("monster1", monsterposx[m1]-monsterwidth, monsterposy[m1]-monsterheight);
   move("monster2", monsterposx[m2]-monsterwidth, monsterposy[m2]-monsterheight);
   move("monster3", monsterposx[m3]-monsterwidth, monsterposy[m3]-monsterheight);
}

function startmonster(i)
{
   monsterposx[i]=screen.width*Math.random();
   if(Math.random()>0.5)monsterposy[i]=screen.height;
   else monsterposy[i]=0;
   
   monsterdirx[i]=(herzposx+Math.random()*250)-monsterposx[i];
   monsterdiry[i]=(herzposy+Math.random()*100)-monsterposy[i];
   mul=Math.sqrt(monsterdirx[i]*monsterdirx[i]+monsterdiry[i]*monsterdiry[i]);
   monsterdirx[i]*=monsterspeed/mul;
   monsterdiry[i]*=monsterspeed/mul;

}

function startnewgame()
{
   points=0;
   monsterspeed=5*adder;
   shotspeed=10*adder;
   level=1;
   counter=0;
   geschossen=0;
   getroffen=0;
   for(i=0;i<4;i++)startmonster(i);
	window.status="+++ DEFEND THE LOVE FOR HIGHSCORE!"
				  
}

i1=window.setInterval("animatemonsters()",200);
i2=window.setInterval("proceedgame()",50);

function gameover()
{
   abonus=Math.round(getroffen/geschossen*points*0.2);
	accuracy=Math.round(getroffen/geschossen*100);	  
   points+=abonus;
	window.clearInterval(i2);
	rnd=Math.round(Math.random()*10000000);
	str="highscore.php?score="+points*471+"&abonus="+abonus*471+"&accuracy="+accuracy*471+"&level="+level*471+"&rnd="+rnd;
	location.href=str;

}

function proceedgame()
{

   proceedmonsters();
   proceedshots();

   collisiondetection();
   counter+=50;
   if(counter>15000)
   {
      monsterspeed+=adder;
      counter=0;
      level++;
      points+=200;
      if (level>4)shotspeed+=adder;
	
   }
 }

</script>

</body>
</html>








